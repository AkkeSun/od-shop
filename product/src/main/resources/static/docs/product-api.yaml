openapi: 3.0.1
info:
  title: Product API
  description: 상품 정보를 관리하는 API 입니다
  version: 0.0.1
servers:
- url: http://localhost:8082
tags: []
paths:
  /products:
    post:
      tags:
      - Product
      summary: 상품 등록 API
      description: 상품을 등록하는 API 입니다. <br><br>1. 테스트시 우측 자물쇠를 클릭하여 유효한 인증 토큰을 입력해야
        정상 테스트가 가능합니다. (요청 헤더에 인증 토큰을 입력하여 테스트하지 않습니다) <br>2. 판매자 권한을 가진 사용자만 상품을
        등록할 수 있습니다.
      operationId: "[register-product] "
      parameters:
      - name: Authorization
        in: header
        description: 인증 토큰
        required: true
        schema:
          type: string
        example: testToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/[request] register-product"
            examples:
              '[register-product] 1미만의 상품 금액 입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "unknown",
                    "price" : -1,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 등록 권한이 없는 사용자 요청':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 이미지 입력 사이즈 초과':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : "testtesttesttesttesttesttesttesttesttesttesttesttest",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 인증받지 않은 사용자 요청':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 설명 이미지 미입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : null,
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품명 미입력':
                value: |-
                  {
                    "productName" : null,
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 옵션 미입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : null,
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 이미지 미입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : null,
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 20 미만의 상품 수량 입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "unknown",
                    "price" : 10000,
                    "quantity" : 10,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 키워드 미입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : null
                  }
              '[register-product] success':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품명 입력 사이즈 초과':
                value: |-
                  {
                    "productName" : "testtesttesttesttesttesttesttesttesttesttesttesttest",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 유효하지 않은 카테고리 입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "unknown",
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 상품 설명 이미지 입력 사이즈 초과':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : "AUTOMOTIVE",
                    "price" : 10000,
                    "quantity" : 20,
                    "productImgUrl" : null,
                    "descriptionImgUrl" : null,
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
              '[register-product] 카테고리 미입력':
                value: |-
                  {
                    "productName" : "상품명",
                    "category" : null,
                    "price" : 10000,
                    "quantity" : 30,
                    "productImgUrl" : "상품 이미지",
                    "descriptionImgUrl" : "상품 설명",
                    "productOption" : [ "옵션1", "옵션2" ],
                    "keywords" : [ "키워드1", "키워드2" ]
                  }
      responses:
        "400":
          description: "400"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] error"
              examples:
                '[register-product] 1미만의 상품 금액 입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "금액은 필수값 입니다"
                      }
                    }
                '[register-product] 상품 이미지 입력 사이즈 초과':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 이미지는 50자 이하여야 합니다"
                      }
                    }
                '[register-product] 상품 설명 이미지 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 설명 이미지는 필수값 입니다"
                      }
                    }
                '[register-product] 상품명 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품명은 필수값 입니다"
                      }
                    }
                '[register-product] 상품 옵션 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 옵션은 필수값 입니다"
                      }
                    }
                '[register-product] 상품 이미지 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 이미지는 필수값 입니다"
                      }
                    }
                '[register-product] 20 미만의 상품 수량 입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 수량은 20 이상이어야 합니다"
                      }
                    }
                '[register-product] 상품 키워드 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "키워드는 필수값 입니다"
                      }
                    }
                '[register-product] 상품명 입력 사이즈 초과':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품명은 50자 이하여야 합니다"
                      }
                    }
                '[register-product] 유효하지 않은 카테고리 입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "존재하지 않은 카테고리 입니다"
                      }
                    }
                '[register-product] 상품 설명 이미지 입력 사이즈 초과':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "상품 설명 이미지는 필수값 입니다"
                      }
                    }
                '[register-product] 카테고리 미입력':
                  value: |-
                    {
                      "httpStatus" : 400,
                      "message" : "BAD_REQUEST",
                      "data" : {
                        "errorCode" : 1001,
                        "errorMessage" : "카테고리는 필수값 입니다"
                      }
                    }
        "403":
          description: "403"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] error"
              examples:
                '[register-product] 상품 등록 권한이 없는 사용자 요청':
                  value: |-
                    {
                      "httpStatus" : 403,
                      "message" : "FORBIDDEN",
                      "data" : {
                        "errorCode" : 5001,
                        "errorMessage" : "접근권한이 없습니다"
                      }
                    }
        "401":
          description: "401"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] error"
              examples:
                '[register-product] 인증받지 않은 사용자 요청':
                  value: |-
                    {
                      "httpStatus" : 401,
                      "message" : "UNAUTHORIZED",
                      "data" : {
                        "errorCode" : 3001,
                        "errorMessage" : "유효한 인증 토큰이 아닙니다"
                      }
                    }
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] register-product"
              examples:
                '[register-product] success':
                  value: |-
                    {
                      "httpStatus" : 200,
                      "message" : "OK",
                      "data" : {
                        "productId" : 12345,
                        "sellerEmail" : "od@test.com",
                        "productName" : "상품명",
                        "productImgUrl" : "상품 이미지",
                        "keywords" : [ "키워드1", "키워드2" ],
                        "productOption" : [ "옵션1", "옵션2" ],
                        "descriptionImgUrl" : "상품 설명",
                        "price" : 10000,
                        "quantity" : 30,
                        "category" : "AUTOMOTIVE"
                      }
                    }
  /products/{productId}:
    get:
      tags:
      - Product
      summary: 상품 조회 API
      description: 상품을 조회하는 API 입니다.
      operationId: "[find-product] "
      parameters:
      - name: productId
        in: path
        description: 상품 ID
        required: true
        schema:
          type: string
      responses:
        "404":
          description: "404"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] error"
              examples:
                '[find-product] 조회된 상품 정보 없음':
                  value: |-
                    {
                      "httpStatus" : 404,
                      "message" : "NOT_FOUND",
                      "data" : {
                        "errorCode" : 2002,
                        "errorMessage" : "조회된 싱픔 정보가 없습니다"
                      }
                    }
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/[response] find-product"
              examples:
                '[find-product] success':
                  value: |-
                    {
                      "httpStatus" : 200,
                      "message" : "OK",
                      "data" : {
                        "productId" : 1,
                        "sellerEmail" : "test@gmail.com",
                        "productName" : "Test Product",
                        "productImgUrl" : "http://example.com/product.jpg",
                        "descriptionImgUrl" : "http://example.com/description.jpg",
                        "keywords" : [ "Keyword1", "Keyword2" ],
                        "productOption" : [ "Option1", "Option2" ],
                        "price" : 10000,
                        "quantity" : 30,
                        "category" : "AUTOMOTIVE",
                        "regDateTime" : "2025-05-01 12:00:00"
                      }
                    }
components:
  schemas:
    '[request] register-product':
      title: "[request] register-product"
      required:
      - category
      - descriptionImgUrl
      - keywords
      - price
      - productImgUrl
      - productName
      - productOption
      - quantity
      type: object
      properties:
        productOption:
          description: 상품 옵션
          oneOf:
          - type: array
            items:
              oneOf:
              - type: object
              - type: boolean
              - type: string
              - type: number
          - null
        quantity:
          type: number
          description: 상품 수량 (20 이상)
        productImgUrl:
          description: 상품 이미지 (50자 이하)
          oneOf:
          - type: string
          - null
        descriptionImgUrl:
          description: 상품 설명 이미지 (50자 이하)
          oneOf:
          - type: string
          - null
        keywords:
          description: 상품 키워드
          oneOf:
          - type: array
            items:
              oneOf:
              - type: object
              - type: boolean
              - type: string
              - type: number
          - null
        price:
          type: number
          description: 상품 금액
        category:
          description: "카테고리 (ELECTRONICS, FASHION, DIGITAL, HOME_APPLIANCES, BEAUTY,\
            \ BOOKS, SPORTS, FOOD, TOYS, FURNITURE, AUTOMOTIVE, HEALTH, TOTAL)"
          oneOf:
          - null
          - type: string
        productName:
          description: 상품명 (50자 이하)
          oneOf:
          - type: string
          - null
    '[response] register-product':
      title: "[response] register-product"
      required:
      - data
      - httpStatus
      - message
      type: object
      properties:
        data:
          required:
          - category
          - descriptionImgUrl
          - keywords
          - price
          - productId
          - productImgUrl
          - productName
          - productOption
          - quantity
          - sellerEmail
          type: object
          properties:
            productOption:
              type: array
              description: 상품 옵션
              items:
                oneOf:
                - type: object
                - type: boolean
                - type: string
                - type: number
            quantity:
              type: number
              description: 상품 수량
            descriptionImgUrl:
              type: string
              description: 상품 설명 이미지
            productImgUrl:
              type: string
              description: 상품 이미지
            keywords:
              type: array
              description: 상품 키워드
              items:
                oneOf:
                - type: object
                - type: boolean
                - type: string
                - type: number
            productId:
              type: number
              description: 상품 코드
            price:
              type: number
              description: 상품 금액
            category:
              type: string
              description: 상품 카테고리
            sellerEmail:
              type: string
              description: 판매자 이메일
            productName:
              type: string
              description: 판매자명
          description: 응답 데이터
        httpStatus:
          type: number
          description: 상태 코드
        message:
          type: string
          description: 상태 메시지
    '[response] error':
      title: "[response] error"
      required:
      - data
      - httpStatus
      - message
      type: object
      properties:
        data:
          required:
          - errorCode
          - errorMessage
          type: object
          properties:
            errorMessage:
              type: string
              description: 에러 메시지
            errorCode:
              type: number
              description: 에러 코드
          description: 응답 데이터
        httpStatus:
          type: number
          description: 상태 코드
        message:
          type: string
          description: 상태 메시지
    '[response] find-product':
      title: "[response] find-product"
      required:
      - httpStatus
      - message
      type: object
      properties:
        data:
          required:
          - category
          - descriptionImgUrl
          - keywords
          - price
          - productId
          - productImgUrl
          - productName
          - productOption
          - quantity
          - regDateTime
          - sellerEmail
          type: object
          properties:
            regDateTime:
              type: string
              description: 등록 일시
            productOption:
              type: array
              description: 상품 옵션 목록
              items:
                oneOf:
                - type: object
                - type: boolean
                - type: string
                - type: number
            descriptionImgUrl:
              type: string
              description: 설명 이미지 URL
            productImgUrl:
              type: string
              description: 상품 이미지 URL
            quantity:
              type: number
              description: 수량
            keywords:
              type: array
              description: 키워드 목록
              items:
                oneOf:
                - type: object
                - type: boolean
                - type: string
                - type: number
            productId:
              type: number
              description: 상품 ID
            price:
              type: number
              description: 가격
            category:
              type: string
              description: 카테고리
            sellerEmail:
              type: string
              description: 판매자 이메일
            productName:
              type: string
              description: 상품 이름
        httpStatus:
          type: number
          description: 상태 코드
        message:
          type: string
          description: 상태 메시지

  securitySchemes:
    APIKey:
      type: apiKey
      name: Authorization
      in: header
security:
  - APIKey: []